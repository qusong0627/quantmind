# 数据库配置环境变量模板
# 复制此文件为 .env.database 并填入实际值
# 注意：不要将包含敏感信息的 .env.database 文件提交到版本控制系统

# ===========================================
# 生产环境 MySQL 配置
# ===========================================
DB_PRODUCTION_MYSQL_HOST=prod-mysql.example.com
DB_PRODUCTION_MYSQL_PORT=3306
DB_PRODUCTION_MYSQL_USERNAME=quantmind_prod
DB_PRODUCTION_MYSQL_PASSWORD=your_secure_production_password
DB_PRODUCTION_MYSQL_DATABASE=quantmind_production
DB_PRODUCTION_MYSQL_SSL_ENABLED=true
DB_PRODUCTION_MYSQL_SSL_CERT_PATH=/path/to/prod-client-cert.pem
DB_PRODUCTION_MYSQL_SSL_KEY_PATH=/path/to/prod-client-key.pem
DB_PRODUCTION_MYSQL_SSL_CA_PATH=/path/to/prod-ca-cert.pem
DB_PRODUCTION_MYSQL_MAX_CONNECTIONS=25
DB_PRODUCTION_MYSQL_CONNECTION_TIMEOUT=30

# ===========================================
# 测试环境 PostgreSQL 配置
# ===========================================
DB_STAGING_POSTGRESQL_HOST=staging-pg.example.com
DB_STAGING_POSTGRESQL_PORT=5432
DB_STAGING_POSTGRESQL_USERNAME=quantmind_staging
DB_STAGING_POSTGRESQL_PASSWORD=staging_secure_password
DB_STAGING_POSTGRESQL_DATABASE=quantmind_staging
DB_STAGING_POSTGRESQL_SSL_ENABLED=false
DB_STAGING_POSTGRESQL_MAX_CONNECTIONS=15
DB_STAGING_POSTGRESQL_CONNECTION_TIMEOUT=25

# ===========================================
# Redis 缓存配置
# ===========================================
DB_CACHE_REDIS_HOST=redis-cluster.example.com
DB_CACHE_REDIS_PORT=6379
DB_CACHE_REDIS_PASSWORD=redis_secure_password
DB_CACHE_REDIS_DATABASE=0
DB_CACHE_REDIS_MAX_CONNECTIONS=50
DB_CACHE_REDIS_CONNECTION_TIMEOUT=10

# ===========================================
# InfluxDB 时序数据库配置
# ===========================================
DB_TIMESERIES_INFLUXDB_HOST=influxdb.example.com
DB_TIMESERIES_INFLUXDB_PORT=8086
DB_TIMESERIES_INFLUXDB_USERNAME=influx_user
DB_TIMESERIES_INFLUXDB_PASSWORD=influx_secure_token
DB_TIMESERIES_INFLUXDB_DATABASE=market_data
DB_TIMESERIES_INFLUXDB_SSL_ENABLED=true
DB_TIMESERIES_INFLUXDB_ORG=quantmind
DB_TIMESERIES_INFLUXDB_BUCKET=market_data

# ===========================================
# ClickHouse 分析数据库配置
# ===========================================
DB_ANALYTICS_CLICKHOUSE_HOST=clickhouse.example.com
DB_ANALYTICS_CLICKHOUSE_PORT=9000
DB_ANALYTICS_CLICKHOUSE_USERNAME=clickhouse_user
DB_ANALYTICS_CLICKHOUSE_PASSWORD=clickhouse_secure_password
DB_ANALYTICS_CLICKHOUSE_DATABASE=analytics
DB_ANALYTICS_CLICKHOUSE_MAX_CONNECTIONS=8
DB_ANALYTICS_CLICKHOUSE_CONNECTION_TIMEOUT=20

# ===========================================
# MongoDB 文档数据库配置
# ===========================================
DB_DOCUMENT_MONGODB_HOST=mongodb.example.com
DB_DOCUMENT_MONGODB_PORT=27017
DB_DOCUMENT_MONGODB_USERNAME=mongo_user
DB_DOCUMENT_MONGODB_PASSWORD=mongo_secure_password
DB_DOCUMENT_MONGODB_DATABASE=quantmind_docs
DB_DOCUMENT_MONGODB_SSL_ENABLED=true
DB_DOCUMENT_MONGODB_SSL_CA_PATH=/path/to/mongodb-ca.pem
DB_DOCUMENT_MONGODB_AUTH_SOURCE=admin
DB_DOCUMENT_MONGODB_AUTH_MECHANISM=SCRAM-SHA-256

# ===========================================
# 开发环境本地数据库配置
# ===========================================
DB_LOCAL_MYSQL_HOST=localhost
DB_LOCAL_MYSQL_PORT=3306
DB_LOCAL_MYSQL_USERNAME=quantmind_dev
DB_LOCAL_MYSQL_PASSWORD=dev_password
DB_LOCAL_MYSQL_DATABASE=quantmind_dev
DB_LOCAL_MYSQL_SSL_ENABLED=false
DB_LOCAL_MYSQL_MAX_CONNECTIONS=10

DB_LOCAL_REDIS_HOST=localhost
DB_LOCAL_REDIS_PORT=6379
DB_LOCAL_REDIS_PASSWORD=
DB_LOCAL_REDIS_DATABASE=0
DB_LOCAL_REDIS_MAX_CONNECTIONS=20

# ===========================================
# 数据库连接池全局配置
# ===========================================
DB_GLOBAL_CONNECTION_TIMEOUT=30
DB_GLOBAL_MAX_CONNECTIONS=20
DB_GLOBAL_MIN_CONNECTIONS=2
DB_GLOBAL_POOL_RECYCLE=3600
DB_GLOBAL_POOL_PRE_PING=true

# ===========================================
# SSL/TLS 全局配置
# ===========================================
DB_GLOBAL_SSL_VERIFY_MODE=CERT_REQUIRED
DB_GLOBAL_SSL_CHECK_HOSTNAME=true
DB_GLOBAL_SSL_CIPHERS=HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA

# ===========================================
# 日志和监控配置
# ===========================================
DB_LOG_LEVEL=INFO
DB_LOG_SLOW_QUERIES=true
DB_LOG_SLOW_QUERY_THRESHOLD=1.0
DB_ENABLE_METRICS=true
DB_METRICS_PORT=9090

# ===========================================
# 备份和恢复配置
# ===========================================
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 2 * * *
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_STORAGE_PATH=/var/backups/quantmind
DB_BACKUP_COMPRESSION=gzip

# ===========================================
# 高可用配置
# ===========================================
DB_HA_ENABLED=false
DB_HA_MASTER_HOST=master.db.example.com
DB_HA_SLAVE_HOSTS=slave1.db.example.com,slave2.db.example.com
DB_HA_FAILOVER_TIMEOUT=30
DB_HA_HEALTH_CHECK_INTERVAL=10