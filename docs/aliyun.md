# é˜¿é‡Œäº‘MySQLæ•°æ®åº“åˆ†ææŠ¥å‘Š

**åˆ†ææ—¶é—´**: 2025-08-05  
**æ•°æ®åº“ä¸»æœº**: rm-cn-zqb4dou81000440o.rwlb.rds.aliyuncs.com  
ç”¨æˆ·åï¼šqusong
å¯†ç ï¼šJs897459835@
æ•°æ®åº“ç±»å‹ï¼šmysql
ç‰ˆæœ¬å·ï¼š8.0
ç«¯å£ï¼š3306
**åˆ†æå·¥å…·**: Python + PyMySQL

---

## ğŸ“Š 1. æ•°æ®åº“åŸºæœ¬ä¿¡æ¯

| é¡¹ç›® | å€¼ |
|------|----|
| MySQLç‰ˆæœ¬ | 8.0.36 |
| å­—ç¬¦é›† | utf8mb4 |
| æ’åºè§„åˆ™ | utf8mb4_0900_ai_ci |
| æ—¶åŒº | SYSTEM |
| ç”¨æˆ·æ•°æ®åº“æ•°é‡ | 1ä¸ª |

## ğŸ—‚ï¸ 2. æ•°æ®åº“åˆ—è¡¨

### quantmind æ•°æ®åº“
- **å­—ç¬¦é›†**: utf8mb4
- **æ’åºè§„åˆ™**: utf8mb4_0900_ai_ci
- **ç”¨é€”**: é‡åŒ–äº¤æ˜“/é‡‘èæ•°æ®ç³»ç»Ÿ

---

## ğŸ” 3. quantmind æ•°æ®åº“è¯¦ç»†åˆ†æ

### 3.1 è¡¨æ¦‚è§ˆ

| è¡¨å | å¼•æ“ | è®°å½•æ•° | æ•°æ®å¤§å° | ç´¢å¼•å¤§å° | å¤‡æ³¨ |
|------|------|--------|----------|----------|------|
| market_data | InnoDB | 4,096 | 0.52MB | 0.16MB | å†å²å¸‚åœºæ•°æ® |
| realtime_quotes | InnoDB | 1,000 | 0.77MB | 0.31MB | å®æ—¶è¡Œæƒ…æ•°æ® |
| symbols | InnoDB | 20 | 0.02MB | 0.02MB | äº¤æ˜“å“ç§ä¿¡æ¯ |
| trading_strategies | InnoDB | 3 | 0.02MB | 0.02MB | äº¤æ˜“ç­–ç•¥é…ç½® |
| user_sessions | InnoDB | 2 | 0.02MB | 0.03MB | ç”¨æˆ·ä¼šè¯ç®¡ç† |
| users | InnoDB | 0 | 0.02MB | 0.02MB | ç”¨æˆ·ä¿¡æ¯ |
| **æ€»è®¡** | - | **5,121** | **1.37MB** | **0.56MB** | - |

### 3.2 æ ¸å¿ƒè¡¨ç»“æ„åˆ†æ

#### ğŸ“ˆ market_data (å†å²å¸‚åœºæ•°æ®)
**ç”¨é€”**: å­˜å‚¨å†å²Kçº¿æ•°æ®ï¼Œæ”¯æŒæŠ€æœ¯åˆ†æå’Œå›æµ‹

| å­—æ®µå | ç±»å‹ | å…è®¸NULL | é»˜è®¤å€¼ | é”® | å¤‡æ³¨ |
|--------|------|----------|--------|----|---------|
| id | int | NO | NULL | PRI | ä¸»é”®ID |
| symbol | varchar | NO | NULL | MUL | äº¤æ˜“å“ç§ä»£ç  |
| timestamp | datetime | NO | NULL | MUL | æ—¶é—´æˆ³ |
| open_price | decimal | NO | NULL | | å¼€ç›˜ä»· |
| high_price | decimal | NO | NULL | | æœ€é«˜ä»· |
| low_price | decimal | NO | NULL | | æœ€ä½ä»· |
| close_price | decimal | NO | NULL | | æ”¶ç›˜ä»· |
| volume | bigint | NO | NULL | | æˆäº¤é‡ |
| amount | decimal | YES | NULL | | æˆäº¤é‡‘é¢ |

**ç´¢å¼•é…ç½®**:
- ğŸ”‘ PRIMARY (å”¯ä¸€): id
- ğŸ”‘ ix_market_data_symbol (æ™®é€š): symbol
- ğŸ”‘ ix_market_data_timestamp (æ™®é€š): timestamp
- ğŸ”‘ uk_market_data_symbol_timestamp (å”¯ä¸€): symbol, timestamp

#### ğŸ“Š realtime_quotes (å®æ—¶è¡Œæƒ…æ•°æ®)
**ç”¨é€”**: å­˜å‚¨å®æ—¶è¡Œæƒ…æ•°æ®ï¼Œæ”¯æŒå®æ—¶ç›‘æ§å’Œäº¤æ˜“å†³ç­–

| å­—æ®µå | ç±»å‹ | å…è®¸NULL | é»˜è®¤å€¼ | é”® | å¤‡æ³¨ |
|--------|------|----------|--------|----|---------|
| id | int | NO | NULL | PRI | ä¸»é”®ID |
| symbol | varchar | NO | NULL | MUL | äº¤æ˜“å“ç§ä»£ç  |
| exchange_code | varchar | NO | NULL | MUL | äº¤æ˜“æ‰€ä»£ç  |
| current_price | decimal | NO | NULL | | å½“å‰ä»·æ ¼ |
| change_points | decimal | YES | NULL | | æ¶¨è·Œç‚¹æ•° |
| change_percent | decimal | YES | NULL | | æ¶¨è·Œå¹… |
| volume | bigint | YES | NULL | | æˆäº¤é‡ |
| amount | decimal | YES | NULL | | æˆäº¤é‡‘é¢ |
| market_cap | decimal | YES | NULL | | æ€»å¸‚å€¼ |
| timestamp | datetime | NO | NULL | | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•é…ç½®**:
- ğŸ”‘ PRIMARY (å”¯ä¸€): id
- ğŸ”‘ ix_realtime_quotes_symbol (æ™®é€š): symbol
- ğŸ”‘ ix_realtime_quotes_timestamp (æ™®é€š): timestamp
- ğŸ”‘ uk_realtime_symbol_exchange (å”¯ä¸€): symbol, exchange_code

#### ğŸ·ï¸ symbols (äº¤æ˜“å“ç§ä¿¡æ¯)
**ç”¨é€”**: ç®¡ç†äº¤æ˜“å“ç§çš„åŸºç¡€ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | å…è®¸NULL | é»˜è®¤å€¼ | é”® | å¤‡æ³¨ |
|--------|------|----------|--------|----|---------|
| id | int | NO | NULL | PRI | ä¸»é”®ID |
| symbol | varchar | NO | NULL | UNI | å“ç§ä»£ç  |
| name | varchar | NO | NULL | | å“ç§åç§° |
| exchange | varchar | NO | NULL | | äº¤æ˜“æ‰€ |
| sector | varchar | YES | NULL | | è¡Œä¸šåˆ†ç±» |
| market_cap | decimal | YES | NULL | | å¸‚å€¼ |
| is_active | tinyint | NO | 1 | | æ˜¯å¦æ´»è·ƒ |
| created_at | datetime | NO | NULL | | åˆ›å»ºæ—¶é—´ |
| updated_at | datetime | YES | NULL | | æ›´æ–°æ—¶é—´ |

#### ğŸ¯ trading_strategies (äº¤æ˜“ç­–ç•¥é…ç½®)
**ç”¨é€”**: å­˜å‚¨å’Œç®¡ç†äº¤æ˜“ç­–ç•¥çš„é…ç½®å‚æ•°

| å­—æ®µå | ç±»å‹ | å…è®¸NULL | é»˜è®¤å€¼ | é”® | å¤‡æ³¨ |
|--------|------|----------|--------|----|---------|
| id | int | NO | NULL | PRI | ç­–ç•¥ID |
| name | varchar | NO | NULL | | ç­–ç•¥åç§° |
| description | text | YES | NULL | | ç­–ç•¥æè¿° |
| parameters | json | YES | NULL | | ç­–ç•¥å‚æ•° |
| is_active | tinyint | NO | 1 | | æ˜¯å¦å¯ç”¨ |
| created_at | datetime | NO | NULL | | åˆ›å»ºæ—¶é—´ |
| updated_at | datetime | YES | NULL | | æ›´æ–°æ—¶é—´ |

#### ğŸ‘¤ users (ç”¨æˆ·ä¿¡æ¯)
**ç”¨é€”**: ç”¨æˆ·è´¦æˆ·ç®¡ç†

| å­—æ®µå | ç±»å‹ | å…è®¸NULL | é»˜è®¤å€¼ | é”® | å¤‡æ³¨ |
|--------|------|----------|--------|----|---------|
| id | int | NO | NULL | PRI | ç”¨æˆ·ID |
| username | varchar | NO | NULL | UNI | ç”¨æˆ·å |
| email | varchar | NO | NULL | UNI | é‚®ç®± |
| password_hash | varchar | NO | NULL | | å¯†ç å“ˆå¸Œ |
| is_active | tinyint | NO | 1 | | æ˜¯å¦æ¿€æ´» |
| created_at | datetime | NO | NULL | | æ³¨å†Œæ—¶é—´ |
| last_login | datetime | YES | NULL | | æœ€åç™»å½• |

#### ğŸ” user_sessions (ç”¨æˆ·ä¼šè¯ç®¡ç†)
**ç”¨é€”**: ç®¡ç†ç”¨æˆ·ç™»å½•ä¼šè¯å’Œè®¿é—®ä»¤ç‰Œ

| å­—æ®µå | ç±»å‹ | å…è®¸NULL | é»˜è®¤å€¼ | é”® | å¤‡æ³¨ |
|--------|------|----------|--------|----|---------|
| id | int | NO | NULL | PRI | ä¼šè¯ID |
| user_id | varchar | NO | NULL | MUL | ç”¨æˆ·ID |
| token | varchar | NO | NULL | UNI | è®¿é—®ä»¤ç‰Œ |
| created_at | datetime | NO | NULL | | åˆ›å»ºæ—¶é—´ |
| expires_at | datetime | NO | NULL | | è¿‡æœŸæ—¶é—´ |
| is_active | tinyint | NO | NULL | | æ˜¯å¦æœ‰æ•ˆ |
| ip_address | varchar | YES | NULL | | IPåœ°å€ |
| user_agent | text | YES | NULL | | ç”¨æˆ·ä»£ç† |

---

## ğŸ“ˆ 4. æ•°æ®åº“ç»Ÿè®¡æ‘˜è¦

### 4.1 æ•´ä½“ç»Ÿè®¡
- **æ€»è¡¨æ•°é‡**: 6ä¸ª
- **æ€»è®°å½•æ•°**: 5,121æ¡
- **æ•°æ®å¤§å°**: 1.59 MB
- **ç´¢å¼•å¤§å°**: 0.64 MB
- **æ€»å¤§å°**: 2.23 MB

### 4.2 æ•°æ®åˆ†å¸ƒ
- **market_data**: 4,096æ¡è®°å½• (80.0%) - å†å²æ•°æ®ä¸»ä½“
- **realtime_quotes**: 1,000æ¡è®°å½• (19.5%) - å®æ—¶è¡Œæƒ…ç¼“å­˜
- **symbols**: 20æ¡è®°å½• (0.4%) - äº¤æ˜“å“ç§
- **trading_strategies**: 3æ¡è®°å½• (0.1%) - ç­–ç•¥é…ç½®
- **user_sessions**: 2æ¡è®°å½• (0.04%) - æ´»è·ƒä¼šè¯
- **users**: 0æ¡è®°å½• (0%) - æš‚æ— ç”¨æˆ·

### 4.3 å­˜å‚¨æ•ˆç‡
- **å¹³å‡æ¯æ¡è®°å½•å¤§å°**: çº¦0.44KB
- **ç´¢å¼•è¦†ç›–ç‡**: 28.7% (ç´¢å¼•å¤§å°/æ€»å¤§å°)
- **æ•°æ®å‹ç¼©æ¯”**: è‰¯å¥½ (InnoDBå¼•æ“)

---

## ğŸ”— 5. æ•°æ®åº“è¿æ¥ä¿¡æ¯

- **å½“å‰è¿æ¥æ•°**: 78ä¸ª
- **æœ€å¤§è¿æ¥æ•°**: 10,520ä¸ª
- **è¿æ¥ä½¿ç”¨ç‡**: 0.74%
- **è¿æ¥çŠ¶æ€**: å¥åº·

---

## ğŸ’¡ 6. ç³»ç»Ÿæ¶æ„åˆ†æ

### 6.1 åŠŸèƒ½æ¨¡å—

```
quantmind é‡åŒ–äº¤æ˜“ç³»ç»Ÿ
â”œâ”€â”€ ğŸ“Š æ•°æ®é‡‡é›†æ¨¡å—
â”‚   â”œâ”€â”€ realtime_quotes (å®æ—¶è¡Œæƒ…)
â”‚   â””â”€â”€ market_data (å†å²æ•°æ®)
â”œâ”€â”€ ğŸ·ï¸ åŸºç¡€æ•°æ®æ¨¡å—
â”‚   â””â”€â”€ symbols (äº¤æ˜“å“ç§)
â”œâ”€â”€ ğŸ¯ ç­–ç•¥æ¨¡å—
â”‚   â””â”€â”€ trading_strategies (ç­–ç•¥é…ç½®)
â””â”€â”€ ğŸ‘¤ ç”¨æˆ·æ¨¡å—
    â”œâ”€â”€ users (ç”¨æˆ·ç®¡ç†)
    â””â”€â”€ user_sessions (ä¼šè¯ç®¡ç†)
```

### 6.2 æ•°æ®æµå‘

1. **æ•°æ®é‡‡é›†**: è…¾è®¯è´¢ç»API â†’ realtime_quotesè¡¨
2. **æ•°æ®å­˜å‚¨**: realtime_quotes â†’ market_data (å†å²åŒ–)
3. **ç­–ç•¥åˆ†æ**: market_data + trading_strategies â†’ äº¤æ˜“ä¿¡å·
4. **ç”¨æˆ·äº¤äº’**: users + user_sessions â†’ æƒé™æ§åˆ¶

### 6.3 æŠ€æœ¯ç‰¹ç‚¹

âœ… **ä¼˜åŠ¿**:
- ä½¿ç”¨InnoDBå¼•æ“ï¼Œæ”¯æŒäº‹åŠ¡å’Œå¤–é”®
- åˆç†çš„ç´¢å¼•è®¾è®¡ï¼ŒæŸ¥è¯¢æ•ˆç‡é«˜
- UTF8MB4å­—ç¬¦é›†ï¼Œæ”¯æŒemojiå’Œç‰¹æ®Šå­—ç¬¦
- JSONå­—æ®µå­˜å‚¨ç­–ç•¥å‚æ•°ï¼Œçµæ´»æ€§å¥½
- æ—¶é—´æˆ³å­—æ®µå®Œæ•´ï¼Œä¾¿äºæ•°æ®è¿½è¸ª

âš ï¸ **å»ºè®®ä¼˜åŒ–**:
- è€ƒè™‘å¯¹market_dataè¡¨è¿›è¡Œåˆ†åŒºï¼ˆæŒ‰æ—¶é—´ï¼‰
- å¢åŠ æ•°æ®å¤‡ä»½å’Œå½’æ¡£ç­–ç•¥
- å®æ—¶æ•°æ®å¯è€ƒè™‘ä½¿ç”¨Redisç¼“å­˜
- æ·»åŠ ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶

---

## ğŸ¯ 7. ä¸šåŠ¡åœºæ™¯åˆ†æ

### 7.1 æ ¸å¿ƒä¸šåŠ¡
è¿™æ˜¯ä¸€ä¸ª**é‡åŒ–äº¤æ˜“ç³»ç»Ÿ**ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

1. **å®æ—¶è¡Œæƒ…ç›‘æ§**
   - æ”¯æŒå¤šäº¤æ˜“æ‰€æ•°æ®
   - å®æ—¶ä»·æ ¼ã€æˆäº¤é‡ã€å¸‚å€¼è·Ÿè¸ª
   - æ¶¨è·Œå¹…è®¡ç®—å’Œå±•ç¤º

2. **å†å²æ•°æ®åˆ†æ**
   - OHLCæ•°æ®å­˜å‚¨
   - æ”¯æŒæŠ€æœ¯æŒ‡æ ‡è®¡ç®—
   - å›æµ‹æ•°æ®åŸºç¡€

3. **äº¤æ˜“ç­–ç•¥ç®¡ç†**
   - ç­–ç•¥å‚æ•°é…ç½®
   - ç­–ç•¥å¯ç”¨/ç¦ç”¨æ§åˆ¶
   - JSONæ ¼å¼å‚æ•°å­˜å‚¨

4. **ç”¨æˆ·æƒé™ç®¡ç†**
   - Tokenè®¤è¯æœºåˆ¶
   - ä¼šè¯ç®¡ç†
   - IPå’Œè®¾å¤‡è·Ÿè¸ª

### 7.2 æ•°æ®æ¥æº
æ ¹æ®ä¹‹å‰çš„åˆ†æï¼Œç³»ç»Ÿå¾ˆå¯èƒ½ä½¿ç”¨ï¼š
- **è…¾è®¯è´¢ç»API** (https://qt.gtimg.cn/q=s_sh000001)
- æ”¯æŒä¸Šè¯æŒ‡æ•°ã€æ·±æˆæŒ‡ã€åˆ›ä¸šæ¿æŒ‡ã€ä¸­è¯500ç­‰

### 7.3 åº”ç”¨åœºæ™¯
- ğŸ“ˆ è‚¡ç¥¨è¡Œæƒ…ç›‘æ§
- ğŸ¤– é‡åŒ–äº¤æ˜“ç­–ç•¥
- ğŸ“Š æŠ€æœ¯åˆ†æå·¥å…·
- ğŸ’¹ æŠ•èµ„ç»„åˆç®¡ç†

---

## ğŸ“‹ 8. ç»´æŠ¤å»ºè®®

### 8.1 æ€§èƒ½ä¼˜åŒ–
- [ ] å®šæœŸåˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—
- [ ] è€ƒè™‘å¯¹å¤§è¡¨è¿›è¡Œåˆ†åŒº
- [ ] ä¼˜åŒ–é«˜é¢‘æŸ¥è¯¢çš„ç´¢å¼•
- [ ] å®æ–½æ•°æ®å½’æ¡£ç­–ç•¥

### 8.2 å®‰å…¨åŠ å›º
- [ ] å®šæœŸæ›´æ–°MySQLç‰ˆæœ¬
- [ ] åŠ å¼ºç”¨æˆ·å¯†ç ç­–ç•¥
- [ ] å®æ–½æ•°æ®åŠ å¯†
- [ ] é…ç½®è®¿é—®ç™½åå•

### 8.3 ç›‘æ§å‘Šè­¦
- [ ] è®¾ç½®è¿æ¥æ•°ç›‘æ§
- [ ] é…ç½®ç£ç›˜ç©ºé—´å‘Šè­¦
- [ ] ç›‘æ§æŸ¥è¯¢æ€§èƒ½
- [ ] æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-08-05 17:38:03  
**æ•°æ®åº“ç‰ˆæœ¬**: MySQL 8.0.36  
**åˆ†æå·¥å…·**: analyze_database.py  
**æŠ¥å‘ŠçŠ¶æ€**: âœ… å®Œæˆ